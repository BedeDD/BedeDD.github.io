<!DOCTYPE html>
<html lang="en">
<head class="h-100">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML-Playground</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body class="d-flex flex-column h-100">
<div id="header-placeholder"></div>
<main class="flex-shrink-0 flex-grow-1">
  <div class="container mt-5">
    <article class="blog-post">
      <h2 class="display-5 link-body-emphasis mb-1">Placeholder für inputs</h2>
      <p class="blog-post-meta">5. September 24</p>

      <p>
        Ich saß gerade an einem Feature für die Website eines Kunden und habe im Rahmen dessen neue Felder in das bereits vorhandene Formular eingefügt. Dabei wollte ich aussagekräftige Platzhalter hinzufügen, also habe ich die Option <code>placeholder: t('activerecord.palceholders.ward.line1')</code> verwendet.<br>
        Das hat in erster Linie den Zweck erfüllt, aber auch den Gedanken in mir geweckt <i>Das ist ganz schön viel Schreibarbeit für sowas verhältnismäßig simples!</i>. Der zweite Gedanke war <i>Das wäre doch ein Feature für Rails.</i>. Also habe ich mir zunächst den Code im <code>FormHelper</code> angeschaut und welche Optionen dieser bietet.<br>
        Rails wäre nicht Rails, wenn es nicht an ein sol grundlegendes Feature gedacht hatte.<br>
        <br>
        <b>ActionView::Helpers::Tags::Placeholderable</b> heißt das gute Teil. <br>
        Nutzt man nun statt eines <code>String</code> ein <code>true</code> als Wert für <code>placeholder</code>, wird automatisch der Attributname als Platzhalter verwendet.
      </p>
      <ul>
        <li><code><%= form.text_field :foo, placeholder: true %></code></li>
        <li>Lookup: <code>helpers.placeholder.{MODE_NAME}.{ATTRIBUTE_NAME} || activerecord.attributes.{MODEL_NAME}.{ATTRIBUTE_NAME}</code></li>
      </ul>
      <p>
        Für dieses Beispiel <code><%= form.text_field :line1, placeholder: true %></code> im Model <code>Ward</code> wird also unter <code>de.helpers.placeholder.ward.line1</code> nach einem Text für den Platzhalter geschaut.
      </p>
    </article>


  </div>
</main>
<div id="footer-placeholder"></div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    fetch('_header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header-placeholder').outerHTML = data;
      })
      .catch(error => console.error('Fehler beim Laden des Headers:', error));

    fetch('_footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('footer-placeholder').outerHTML = data;
      })
      .catch(error => console.error('Fehler beim Laden des Footers:', error));
  });
</script>
</body>
</html>
